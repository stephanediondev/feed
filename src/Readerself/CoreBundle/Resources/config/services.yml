services:
    simplepie:
        class: SimplePie

    #controller
    readerself_core_controller_abstract:
        class: Readerself\CoreBundle\Controller\AbstractController
        abstract: true
        calls:
            - [ "setContainer", [ "@service_container" ] ]

    readerself_core_controller_setting:
        class: Readerself\CoreBundle\Controller\SettingController
        parent: "readerself_core_controller_abstract"

    readerself_core_controller_feed:
        class: Readerself\CoreBundle\Controller\FeedController
        parent: "readerself_core_controller_abstract"
        arguments:
            - "@readerself_core_manager_feed"

    readerself_core_controller_item:
        class: Readerself\CoreBundle\Controller\ItemController
        parent: "readerself_core_controller_abstract"
        arguments:
            - "@readerself_core_manager_item"

    #manager
    readerself_core_manager_abstract:
        class: Readerself\CoreBundle\Manager\AbstractManager
        abstract: true
        calls:
            - [ "setEntityManager", [ "@doctrine.orm.entity_manager" ] ]
            - [ "setEventDispatcher", [ "@event_dispatcher" ] ]

    readerself_core_manager_collection:
        class: Readerself\CoreBundle\Manager\CollectionManager
        parent: "readerself_core_manager_abstract"
        public: true
        arguments:
            - "@simplepie"

    readerself_core_manager_feed:
        class: Readerself\CoreBundle\Manager\FeedManager
        parent: "readerself_core_manager_abstract"
        public: true

    readerself_core_manager_item:
        class: Readerself\CoreBundle\Manager\ItemManager
        parent: "readerself_core_manager_abstract"
        public: true
